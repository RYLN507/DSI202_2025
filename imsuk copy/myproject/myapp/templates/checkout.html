{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Checkout" %} | IMSUK{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md">

    <h2 class="text-2xl font-bold text-[#3F8240] mb-6 text-center">{% trans "Confirm Your Order" %}</h2>

    <form method="POST" action="{% url 'checkout_confirm' %}" class="space-y-8">
        {% csrf_token %}

        <!-- ğŸ“ à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸ˆà¸±à¸”à¸ªà¹ˆà¸‡ -->
        <div>
            <h3 class="font-semibold text-[#3F8240] mb-2">ğŸ“ {% trans "Shipping Address" %}</h3>
            <div class="bg-[#F7EFDB] p-4 rounded text-sm leading-relaxed">
                {% if default_address %}
                    <p class="font-medium text-gray-700">{{ default_address.label }}</p>
                    <p class="text-gray-600">{{ default_address.display_address }}</p>
                    <input type="hidden" name="address_id" value="{{ default_address.id }}">
                {% else %}
                    <p class="italic text-gray-400">{% trans "You don't have a shipping address yet." %}</p>
                {% endif %}
                <a href="{% url 'address_list' %}" class="text-xs text-[#3F8240] underline inline-block mt-2">
                    {% trans "Change Address" %}
                </a>
            </div>
        </div>

        <!-- ğŸ½ï¸ à¹€à¸¡à¸™à¸¹à¸‚à¸­à¸‡à¸„à¸¸à¸“ -->
        <div>
            <h3 class="font-semibold text-[#3F8240] mb-2">ğŸ½ï¸ {% trans "Your Menu" %}</h3>
            <ul class="text-sm list-disc list-inside text-gray-700 space-y-1">
                {% for item in cart_items %}
                    <li>
                        {{ item.menu.restaurant.name }} - {{ item.menu.name }} Ã— {{ item.quantity }}
                        <span class="text-gray-400">à¸¿{{ item.menu.price|floatformat:0 }}</span>
                    </li>
                {% endfor %}
            </ul>
        </div>

        <!-- ğŸ§‚ à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ -->
        <div>
            <h3 class="font-semibold text-[#3F8240] mb-2">ğŸ§‚ {% trans "Additional Options" %}</h3>
            <div class="space-y-2 text-sm">
                <label class="flex items-center space-x-2">
                    <input type="checkbox" name="wants_spoon" class="accent-[#3F8240]" />
                    <span>{% trans "I want plastic utensils" %}</span>
                </label>
                <label class="flex items-center space-x-2">
                    <input type="checkbox" name="wants_sauce" class="accent-[#3F8240]" />
                    <span>{% trans "I want sauce/condiments (if available)" %}</span>
                </label>
            </div>
        </div>

        <!-- ğŸ’³ à¸§à¸´à¸˜à¸µà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™ -->
        <div>
            <h3 class="font-semibold text-[#3F8240] mb-2">ğŸ’³ {% trans "Payment Method" %}</h3>
            <div class="bg-blue-600 text-white text-sm font-semibold text-center py-2 rounded">
                {% trans "Pay with VISA" %}
            </div>
        </div>

        <!-- âœ… à¸›à¸¸à¹ˆà¸¡à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­ -->
        <div class="text-center">
            <button type="submit" class="bg-[#BADE80] text-[#3F8240] font-bold py-2 px-6 rounded hover:bg-[#A3CF62]">
                âœ… {% trans "Place Order" %}
            </button>
        </div>
    </form>
</div>
{% endblock %}


